---
title: "A2 Eric"
output: html_document
date: "2022-11-21"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# load libraries 

```{r}
library(tidyverse)
library(mgcv)
library(xgboost)
library(missForest)
library(doParallel)
library(cesR)
registerDoParallel(cores=16)
```


```{r}
gss_clean <- read_csv("../Starter/gss_clean.csv") %>% select(-c(caseid, main_activity)) %>% as.data.frame()  # just drop the NA's for now 
gss_clean[sapply(gss_clea, is.character)] <- lapply(gss_clean[sapply(gss_clean, is.character)], 
                                       as.factor)
glimpse(gss_clean)
gss_clean_imputed <- missForest(a2_data, maxiter = 15, ntree = 100, verbose = T, variablewise = TRUE)
gss_clean_imputed_df <- gss_clean_imputed$ximp
gss_clean_imputed_error <- gss_clean_imputed$OOBerror
write_csv(gss_clean_imputed_df, "gss_clean_imputed.csv")
```

```{r}
get_ces("ces2019_phone")
ces2019_phone_clean <- read_csv("../Starter/ces2019-phone_clean.csv") %>% select(-c(sample_id)) %>% as.data.frame()  # just drop the NA's for now 

```


# data exploration 

## perform feature selection 
```{r}
# use recursive feature selection 
```

# model tests

## GAM

```{r}
gam_model <- mgcv::gam()

```

## Tree based 